<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bill99.mam.platform.persistence.dao.OrderExtMapper">
  <resultMap id="BaseResultMap" type="com.bill99.mam.platform.persistence.entity.Order">
    <id column="id" jdbcType="BIGINT" property="id" />
    <result column="uid" jdbcType="BIGINT" property="uid" />
    <result column="payee_uid" jdbcType="BIGINT" property="payeeUid" />
    <result column="order_amount" jdbcType="BIGINT" property="orderAmount" />
    <result column="pay_amount" jdbcType="BIGINT" property="payAmount" />
    <result column="refund_amount" jdbcType="BIGINT" property="refundAmount" />
    <result column="actual_amount" jdbcType="BIGINT" property="actualAmount" />
    <result column="trade_fee" jdbcType="BIGINT" property="tradeFee" />
    <result column="is_platform_pay_fee" jdbcType="INTEGER" property="isPlatformPayFee" />
    <result column="bill_order_no" jdbcType="VARCHAR" property="billOrderNo" />
    <result column="trade_no" jdbcType="VARCHAR" property="tradeNo" />
    <result column="function_code" jdbcType="INTEGER" property="functionCode" />
    <result column="sharing_data" jdbcType="VARCHAR" property="sharingData" />
    <result column="fee_mode" jdbcType="INTEGER" property="feeMode" />
    <result column="pay_mode" jdbcType="INTEGER" property="payMode" />
    <result column="pay_status" jdbcType="INTEGER" property="payStatus" />
    <result column="order_status" jdbcType="INTEGER" property="orderStatus" />
    <result column="settle_period" jdbcType="VARCHAR" property="settlePeriod" />
    <result column="txn_begin_time" jdbcType="TIMESTAMP" property="txnBeginTime" />
    <result column="txn_end_time" jdbcType="TIMESTAMP" property="txnEndTime" />
    <result column="txn_expire_time" jdbcType="TIMESTAMP" property="txnExpireTime" />
    <result column="member_bank_acct_id" jdbcType="VARCHAR" property="memberBankAcctId" />
    <result column="currency_code" jdbcType="VARCHAR" property="currencyCode" />
    <result column="auth_code" jdbcType="VARCHAR" property="authCode" />
    <result column="order_type" jdbcType="VARCHAR" property="orderType" />
    <result column="pay_type" jdbcType="VARCHAR" property="payType" />
    <result column="is_assured" jdbcType="INTEGER" property="isAssured" />
    <result column="bg_url" jdbcType="VARCHAR" property="bgUrl" />
    <result column="stl_date" jdbcType="TIMESTAMP" property="stlDate" />
    <result column="pay_url" jdbcType="VARCHAR" property="payUrl" />
    <result column="secure_type" jdbcType="INTEGER" property="secureType" />
    <result column="resp_code" jdbcType="VARCHAR" property="respCode" />
    <result column="resp_msg" jdbcType="VARCHAR" property="respMsg" />
    <result column="memo" jdbcType="VARCHAR" property="memo" />
    <result column="data_map" jdbcType="VARCHAR" property="dataMap" />
    <result column="update_time" jdbcType="TIMESTAMP" property="updateTime" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
  </resultMap>
  <select id="selectPageList" resultMap="BaseResultMap">
			SELECT 
			<include refid="Base_Column_List" />
			FROM
		<![CDATA[
			T_MOCK_ORDER tc WHERE tc.UID = #{uid} ORDER BY tc.TXN_BEGIN_TIME DESC LIMIT #{startRow}, #{pageSize}
	 	]]>
	</select>
	<select id="countByExample" parameterType="com.bill99.mam.platform.persistence.entity.OrderExample" resultType="java.lang.Long" >
	    select count(*) from t_mock_order
	    <if test="_parameter != null" >
	      <include refid="Example_Where_Clause" />
	    </if>
	  </select>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, uid, payee_uid, order_amount, pay_amount, refund_amount, actual_amount, trade_fee, 
    is_platform_pay_fee, bill_order_no, trade_no, function_code, sharing_data, fee_mode, 
    pay_mode, pay_status, order_status, settle_period, txn_begin_time, txn_end_time, 
    txn_expire_time, member_bank_acct_id, currency_code, auth_code, order_type, pay_type, 
    is_assured, bg_url, stl_date, pay_url, secure_type, resp_code, resp_msg, memo, data_map, 
    update_time, create_time
  </sql>
  <select id="selectByExample" parameterType="com.bill99.mam.platform.persistence.entity.OrderExample" resultMap="BaseResultMap">
    select
    <if test="distinct">
      distinct
    </if>
    'true' as QUERYID,
    <include refid="Base_Column_List" />
    from t_mock_order
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from t_mock_order
    where id = #{id,jdbcType=BIGINT}
  </select> 
</mapper>